<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="../client/css/sign-up.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">Disasters</a></li>
            <li><a href="deliver.html">Deliver</a></li>
            <li><a href="create-disaster.html">Add New</a></li>
            <li><a href="sign-up.html">Sign Up</a></li>
            <li><a href="sign-up.html">Sign In</a></li>
        </ul>
    </nav>
    <div class="container">
        <div class="form-box">
            <h1 id="title">Sign Up</h1>
            <form>
                <div class="input-group">
                    <div class="input-field" id="nameField">
                        <i class="fa-solid fa-envelope"></i>
                        <input type="name" id="name" name="name" placeholder="Name">
                    </div>

                    <div class="input-field">
                        <i class="fa-solid fa-envelope"></i>
                        <input type="email" id="email" name="email" placeholder="Email">
                    </div>

                    <div class="input-field">
                        <i class="fa-solid fa-envelope"></i>
                        <input type="password" id="password" name="password" placeholder="Password">
                        <h2>
                            I am a...
                        </h2>

                    <input type="radio" id="Administrator" name="type" value="Administrator">
                    <label for="administrator">FEMA Administrator</label><br>

                    <input type="radio" id="general" name="type" value="General">
                    <label for="general">General Volunteer</label><br>
                    
                    <input type="radio" id="organization" name="type" value="Organization" checked>
                    <label for="organization">Organization</label><br>
                    
                    <input type="radio" id="doctor" name="type" value="Doctor">
                    <label for="doctor">Doctor</label><br>

                    <input type="radio" id="social-worker" name="type" value="Social Worker">
                    <label for="social-worker">Social Worker</label><br>
                    
                </div>
                <div class="btn-field">
                    <button type="button" onclick="submitFormData()" id="signUpButton">Sign Up</button>               
                 </div>
            </form>
        </div>
    </div>
<script>
    //TODO: Un hard-code localhost:port. HB
    function submitFormData() {
        console.log(document.querySelector('input[name="type"]:checked').value)
        fetch("http://127.0.0.1:5003/signup", {
            headers: {
                'Content-type' : 'application/json'// What even are naming conventions?!
            },
            method: 'POST',
            body: JSON.stringify({
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                password: document.getElementById('password').value,
                type: document.querySelector('input[name="type"]:checked').value
            })
        }) // These are routes, I am told.
        .then(response => response.json())
        .catch(error => console.log(error)); //Handle errors in the backend
    }
</script>
</body>
</html>